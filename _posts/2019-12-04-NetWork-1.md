---
layout:     post                    # 使用的布局（不需要改）
title:      NetWork-Note               # 标题 
subtitle:   簡要 #副标题
date:       2019-12-04              # 时间
author:     BY Rikka                     # 作者
header-img: img/post-bg-2.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - Computer NetWork
---

## Head
>
  **計算機網絡：由單一技術相互連接起來的計算機組合。**  
  ### 網絡硬件  
  
  #### 網絡應用：  
  &emsp;1.商業應用  
  &emsp;2.家庭應用  
  &emsp;3.移動用戶  
      
  #### 鏈路方式：  
  &emsp;&emsp;從廣義上講，目前有兩種方式：廣播式鏈路；點到點鏈路。
  
  ##### 點到點鏈路：  
  &emsp;&emsp;點到點鏈路（point-to-point）將一對單獨的機器連接起來。在一個由點到點鏈路組成的網絡中，爲了從源端到達接收方，短消息必須首先訪問
   一個或多個中間機器，這種短消息也被稱爲數據包或包（packet）。通常在網絡中可能存在多條不同長度的路由，因此，找到一條好的路由對點到點網
   絡非常重要。點到點傳輸只有一個發送方和一個接收方，這種情況也被稱爲單播（unicasting）。
   
  ##### 廣播鏈路：  
   &emsp;&emsp;廣播網絡上，通信信道被網絡上的所有機器共享，任何一臺機器發出的數據包都能被所有其他任何機器收到。每個包的地址字段指定了預期的接收方。當一臺機器收到一個數據包時，它要檢查地址字段。如何包的目的地就是接收機器，則該機器要處理此數據包，如果目的地不是該機器，則忽略此數據包。 

  ##### 還有一種傳輸模式：組播  
   &emsp;&emsp;有些廣播系統還支持給一組機器發送數據包的模式，這種模式就是組播。
              
              
  #### 網絡尺度：  
  &emsp;可以根據大致的物理尺寸來區分不同尺寸的網絡。  
  &emsp;&emsp;一般分爲：  
  
  >>**1.個域網 &emsp; PAN,Personal Area Network &emsp; 1m**  
  >>**2.局域網 &emsp; LAN,Local Area Network &emsp; 10m - 1km**  
  >>**3.城域網 &emsp; MAN,Metropolitan Area Network &emsp; 10km**  
  >>**4.廣域網 &emsp; WAN,Wide Area Network &emsp; 100km - 1000km**  
  >>**5.互聯網 &emsp; Internetwork &emsp; 10000km**  
  
  ### 網絡軟件  
  
  #### 協議層次結構  
  &emsp;&emsp;爲了降低網絡設計的複雜性，大多數網絡都組織成一個**層次棧（a stack of layer）**或**分級棧（a stack of level）**，每一層都建立在其下一層的基礎之上。層的個數，每一層的名字，每一層的內容以及每一層的功能依據各個網絡而各有不同。每一層的目的是向上一層提供特定的服務，而把如何實現這些服務的細節對上一層加以屏蔽。    
  &emsp;&emsp;一臺機器上的第N層與另一臺機器上的第N層進行對話，該對話中使用的規則和約定統稱爲第N層協議。基本上，所謂**協議（protocol）**是指通信雙方就如何進行通信的一種約定。  
  &emsp;**層次示例：**  
  >**主機1  -------------------  主機2**  
  >**第5層 -- 第5層協議 -- 第5層**  
  >**第4層 -- 第4層協議 -- 第4層**  
  >**第3層 -- 第3層協議 -- 第3層**  
  >**第2層 -- 第2層協議 -- 第2層**  
  >**第1層 -- 第1層協議 -- 第1層**  
  >**&emsp;&emsp;&emsp;&emsp;物理介質層**  
  
  &emsp;每一層向它的上面一層提供**服務**，上一層使用這個**接口**來訪問下一層。第一層之下是物理介質層，用來傳輸比特。不同機器上構成相應層次的實體稱爲**對等體（peer）**。對等體可能是軟件過程，硬件設備，或人類。對等體爲了能夠實現彼此溝通才使用協議來通信。  
  
  #### 關於層次設計所需要考慮的問題：  
  &emsp;1.檢錯  
  &emsp;2.路由  
  &emsp;3.尋址與命名  
  &emsp;4.可擴展性  
  &emsp;5.統計復用
  &emsp;6.流量控制與擁塞  
  &emsp;7.服務質量  
  &emsp;8.安全性  
  
  #### 面向連接與無連接
  
  ##### 面向連接  
  &emsp;&emsp;類似與一個管道：發送方把對象（數據位）壓入管道的一端，接收方在管道的另一端將它們取出來。絕大多數情況下，數據位保持原來的順序，所以
  數據位都會按照發送的順序到達。  
  &emsp;&emsp;有時在需要建立一個連接時，需要發送方，接收方和子網一起**協商**一組將要使用的參數 - 最大長度，所要求的服務質量和一些其他問題。一般
  一般情況下，一方提出建議，另一方接受或拒絕該建議，甚至提出相反的建議。電路（circuit）是與資源關聯的連接的另一個名字，例如指定的寬帶。
  
  ##### 無連接  
  &emsp;&emsp;按照郵局系統建立的模式；每個報文攜帶着完整的目標地址，每個報文都由系統中的中間節點**路由**，而且路由獨立於後續報文。報文（message）在不同的上下文中有不同稱呼；**數據包/包（packet）**是**網絡層**的報文。如果中間節點只能在收到報文的全部內容之後再將該報文發送
  給下個節點，那麼這種處理方式是**存儲-轉發交換（store-forward switching）**。另一種方式是在報文還沒有全部接收完畢之前就向下個節點傳輸，
  這種處理方式是**直通式交換（cut-through switching）**。
  
  #### 關於服務質量  
  &emsp;&emsp;可靠的面向連接服務：接收方向發送方確認收到的每個報文，因而發送方可以據此保證報文已到達接收方。有確認的數據報服務，但是確認過程也
  需要開銷。該方式常
  用於：文件傳輸。  
  &emsp;&emsp;可靠的面向連接服務有兩個細微變異：**報文序列**和**字節流**。  
  &emsp;&emsp;&emsp;報文序列方式，報文的邊界始終得到保持。常用於：普通的信息或文件傳遞。  
  &emsp;&emsp;&emsp;字節流方式，連接只是一個字節流，沒有任何報文邊界。常用於：下載流式媒體文件。
  
  &emsp;&emsp;無連接服務：以一種發送單個報文的方法，這個報文將以極高概率到達目的地，但不是必須確保到達目的地。這種方式可以不用建立連接。不可靠（意味着沒有被確認）的無連接服務常被稱爲**數據報服務**。
  
  &emsp;&emsp;還有一種**請求-確認**服務：在這種服務中，發送方傳輸一個包含某個請求的數據報；接收方以一個包含了請求結果的應答數據作爲反饋。該服務
  常用於：**客戶機-服務器** 模型中。  
  
  #### 服務原語  
  &emsp;&emsp;一個服務由一組原語（primitive）正式說明，用戶進程通過執行這些原語（操作）來訪問該服務。原語告訴服務要執行某個動作，或將對等
  實體所執行的動作報告給用戶。如**協議棧**位於操作系統中，則這些服務原語通常是一些系統調用。  
  &emsp;&emsp;可用的原語取決於底層所提供的服務。面向連接服務的原語與無連接服務的原語是不同的。  
  
  |原語|含義|
  | :-|:- |
  |LISTEN    |阻塞操作，等待入境連接|   
  |CONNECT   |與等待中的對等實體建立連接|
  |ACCEPT    |接受來自對等實體的入境連接請求|
  |RECEIVE   |阻塞操作，等待入境報文|
  |SEND      |給對等實體發送一個報文|
  |DISCONNECT|終止一個連接|
  
  #### 服務與協議的關係  
  &emsp;&emsp;**服務**與**協議**是截然不同的概念；  
  &emsp;&emsp;&emsp;服務：服務是指某一層向它上一層提供的一組原語（操作）。服務定義了該層準備代表其用戶執行哪些操作，但是並不涉及如何實現這些操作
  。服務與兩層之間的接口有關，底層是服務提供者，而上層是服務用戶。  
  &emsp;&emsp;&emsp;協議：協議是一組規則，規定了同一層上對等實體之間所交換的數據包或報文的**格式**和**含義**。對等實體利用協議來實現它們的服務
  定義，它們可以自由改變協議，只要不改變呈現給它們用戶的服務即可。  
  &emsp;&emsp;**按照這種方式，服務與協議是完全相分離的。服務不可以和協議混淆。**  
  
  #### 參考模型  
  
  **OSI參考模型**  
  
  |主機1|主機2|交換單元的名稱|
  | :-: | :-: | :-: |
  |7-應用層|7-應用層|APDU|
  |6-表示層|6-表示層|PPDU|
  |5-會話層|5-會話層|SPDU|
  |4-傳輸層|4-傳輸層|TPDU|
  |---|---|---|
  
  |---|---|---|---|---|交換單元的名稱|
  | :-: | :-: | :-: | :-: | :-: | :-: |
  |---|路由協議|內部子網協議|內部子網協議|---|---|
  |3-網絡層|網絡層-路由器協議|網絡|網絡|3-網絡層|數據包|
  |2-數據鏈路層|鏈路層-路由器協議|數據鏈路|數據鏈路|2-數據鏈路層|幀|
  |1-物理層|物理層-路由器協議|物理-路由器|物理-路由器|1-物理層|比特|
  
  **OSI模型-7層的基本原則簡要:**  
  &emsp;1.應該在需要一個不同抽象體的地方創建一層。    
  &emsp;2.每一層都應該執行一個明確定義的功能。  
  &emsp;3.每一層功能的選擇應該向定義國際標準化協議的目標看齊。  
  &emsp;4.層與層邊界的選擇應該使跨越接口的信息流最小。  
  &emsp;5.層數應該足夠多，保證不同的功能不會被混雜在同一層中，但同時層數又不能太多，以免體系結構變得過於龐大。  
  
  **物理層：**  
  &emsp;**物理層（physical layer）**關注在一條通信信道上傳輸原始比特。設計問題必須確保當一方發送了比特1時，另一方收到的也是比特1，而不是比特0。  
  
  **數據鏈路層：**  
  &emsp;**數據鏈路層（data link layer）**的主要任務是將一個原始的傳輸設施轉變成一條沒有漏檢傳輸錯誤的線路。數據鏈路層的通常做法是將真實錯誤掩蓋，使得對網絡層不可見。於是
  發送方將輸入的數據拆分成**數據幀（data frame）**，然後順序發送這些數據幀。若服務是可靠的，則接收方必須確認正確收到的每一幀，即返回一個**確認幀（acknowledgement frame）**。另一個問題是避免快速發送方使用數據淹沒一個慢速接收方。於是需要一個流量調節機制。再就是在廣播網路中，如何控制對共
  享信道的訪問。數據鏈路層的一個**特殊子層**，**介質訪問層**來處理這個問題。  
  
  **網絡層：**  
  &emsp;**網絡層（network layer）**的主要功能是控制子網的運行。一個關鍵的設計問題使如何將數據包從源端路由到接收方。  
  
  **傳輸層：**  
  &emsp;**傳輸層（transport layer）**的基本功能是接收上一層的的數據，在必要時將數據分割爲較小的單元，然後傳遞這些單元至網絡層。傳輸層還決定了向會話層提供何種服務。其中最常見的傳輸連接是一個完全無錯（指出錯率低）的點到點信道。傳輸層是真正的**端到端**的層，它自始至終將數據從源端攜帶到接收方。  
  
  **會話層：**  
  &emsp;**會話層（session layer）**允許不同機器上的用戶建立會話。會話通常提供各種服務，包括**對話控制（dialong control）**，**令牌管理（token management）**，以及**同步功能（synchronization）**。  
  
  **表示層：**  
  &emsp;表示層以下的各層最關注的是如何傳遞數據位，而**表示層（presentation layer）**關注的是所傳遞信息的語法和含義。  
  
  **應用層：**  
  &emsp;**應用層（application layer）**包含了用戶通常需要的各種協議。例如：**超文本傳輸協議（HTTP,HyperText Transfer Protocol）**..等。  
  
  **TCP/IP參考模型**  
  &emsp;&emsp;TCP/IP模型相對於OSI模型，沒有被使用的那麼廣泛，但是協議的使用卻非常廣泛。  
  
  **鏈路層：**  
  &emsp;TCP/IP模型選擇的是數據包交換網絡，它以一個可運行在不同網絡之上的無連接網絡層爲基礎。模型中的最底層是**鏈路層（link layer）**，該層描述了鏈路層必須完成什麼功能才能滿足無連接的互聯網層的需求，例如串行線和經典以太網絡。該層也不算是真正意義上的一個層，而是主機與傳輸線路之間的一個接口。  
  
  **互聯網層：**  
  &emsp;**互聯網層（internet layer）**是將整個網絡體繫結構貫穿在一起的關鍵層。該層的任務是允許主機將數據包注入到任何網絡，並讓這些數據包獨立地到達接收方。  
  
  **傳輸層：**  
  &emsp;在TCP/IP模型中位於互聯網層之上的那一層現在通常稱爲**傳輸層（transport layer）**。它的設計目的是允許源主機和目標主機上的對等實體進行對話。它定義了兩個端到端的傳輸協議：**傳輸控制協議（TCP,Transport Control Protocol）**，它是一個可靠的，面向連接的協議，允許從一臺機器發出的字節流正確無誤地交付到互聯網上的另一臺機器。同時它還負責處理流量控制。**用戶數據報協議（UDP,User Datagram Protocol）**，它是一個不可靠的，無連接協議，適用於不使用TCP協議的功能，使用自己提供的功能的應用程序。  
  
  **應用層：**  
  &emsp;TCP/IP模型沒有會話層與表示層，因爲當時感覺不需要這兩層。相反，應用層簡單包含了所需的任何會話和表示功能。**應用層（application layer）**包含了所有的高層協議。例如：**虛擬終端協議（TELNET）**，**文件傳輸協議（FTP）**，**電子郵件協議（SMTP）**，**域名解析協議（DNS,Domain Name System）**，**超文本傳輸協議（HTTP,HyperText Transfer Protocol）**，**流式媒體傳輸協議（RTP）**等。
  
  **應用層 HTTP SMTP RTP DNS**  
  **傳輸層 TCP UDP**  
  **互聯網層 IP ICMP**  
  **鏈路層 DSL SONET 802.11 Ethernet**  
  
  **ICMP：**  
  ICMP（Internet Control Message protocol）互聯網信息控制協議。使用該協議向目標主機傳送一個requset分組，目標主機收到後返回一個reply分組。  
  **DNS：**  
  DNS（Domain Name System）域名解析協議，將主機IP映射爲特定的字符串。  
  
  **IP：**  
  IP（Internet Position）網絡地址協議，爲網絡中的主機中分配唯一的IP。
  
  **802.11：**  
  802.11，無線局域網絡。
  
  **Ethernet：**  
  Ethernet（以太交換網絡） - 常用的點到點鏈路的數據包交換網絡
  
  ### 網絡實例：
  
  &emsp;**因特網（Internet）**  
  &emsp;**第三代移動網絡 - 移動通信系統（UMTS,Universal Mobile Telecommunications System） - 寬帶碼分多址（WCDMA,Wideband Code Division Multiple Access）**  
  &emsp;**無線局域網（802.11）**  
  &emsp;**RFID / 傳感器網絡**  
  
  ### 網絡標準化：  
  
  &emsp;爲了保證計算機網絡中的各個主機的互操作性，需要制定一些標準來規範通信行爲。
  &emsp;**一般的網絡組織：**  
  &emsp;&emsp;國際電信同盟（ITU,International Telecommunication Union）  
  &emsp;&emsp;國際標準化組織（ISO,International Standards Oraganization）  
  &emsp;&emsp;電氣和電子工程師協會（IEEE,Institute of Electrical and Electronics Engineers）  
  &emsp;&emsp;Internet體系結構委員會（Internet Architecture Board）  
  >Internet研究任務組（IRTF,Internet Research Task Force）  
  >Internet工程任務組（IETF,Internet Engineering Task Force）  
  &emsp;&emsp;萬維網聯盟（W3C,World Wide Web Consortium）  
  
  ### 度量單位：  
  
  kbps - kilobits/sec  
  >它表示的是 1000位/秒。  
  
  KB/s - KiloBytes/s  
  >它表示的是 1000字節/秒。
  
  1 Bytes = 8 bits  
  1 KB = 1024 bytes  
  1 MB = 1024 KB  
  1 GB = 1024 MB  
  
  |KB|MB|GB|TB|---|單位|
  | :-: | :-: | :-: | :-: | :-: | :-: |
  |2^10 Bytes|2^20 Bytes|2^30 Bytes|2^40 Bytes|---|秒(s)|
  
  |kbps|Mbps|Gbps|Tbps|---|單位|
  | :-: | :-: | :-: | :-: | :-: | :-: |
  |10^3 bits|10^6 bits|10^9 bits|10^12 bits|---|秒(s)|
  
  
