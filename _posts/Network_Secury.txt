									密碼學

		密碼的應用非常廣泛，提供身份認證與數據保護等功能。

		密碼(cipher)指逐個字符或者逐個位地進行行變換。編碼(code)則是指用一個詞或符號來代替另一個詞。

		待加密地消息稱爲明文(plaintext)；
		密鑰(key)是用來加密密文的函數變換的參數；
		密文(intruder)指的就是加密後得到的消息；

		密碼分析問題:

				1>唯密文(ciphertext only)，有一定量的密文，但是沒有對應的明文；
				2>已知明文(known plaintext)，有一些相匹配的密文與明文；
				3>選擇明文(chosen plaintext)，能夠加密一些自選的明文；

		常見的對稱加密算法:

				對稱加密指的是對密文進行加密序列的逆向解密序列即可解密密文。

				1>DES,Data Encryption Standard.數據加密阿標準；
				2>三重DES，DES的改進；
				3>AES，Advanced Encryption Standard.高級加密標準；
				4>Rijndael.

		密碼模式:
				
				1>電碼本(ECB,Electronic Code Book)。映射記錄；
				2>密碼塊鏈(cipher block chaining)。後一段明文的加密依賴於前一段的密文。
				3>密碼反饋模式(cipher feedback mode)。類似密碼塊鏈，但是它可以不用等到全部數據後再開始解密。
				4>流密碼模式(stream cipher mode)。使用密鑰加密初始向量，輸出塊與明文XOR。
				5>計數器模式(counter mod)。類似流密碼模式，但是向量會更新。

		公開密鑰算法:
	
				1>RSA.
				2>揹包算法.
				
		數字簽名:

				1>對稱密鑰簽名；
				2>公開密鑰簽名；
				3>消息摘要:SHA-1,SHA-2,MD5...
				
			
		證書:證書的作用是將公鑰與持有人綁定。

		密鑰分發中心(KDC,key distribution center)
		認證中心(CA,Certification Authority)

		X.509:證書格式標準。

		X.509的基本字段:

			字段				含義

			Version				X.509的版本
			Serial number			此數值加上CA的名字唯一標識了證書
			Signature algorithm		簽名證書的算法
			Issuer				CA的X.500名字
			Validity period			有效期
			Subject name			哪個實體的密鑰得到了驗證
			Public key			主題的公鑰和所用算法的ID
			Issuer ID			可選ID，唯一標識了證書頒發者
			Subject ID			可選ID，唯一標識了證書主題
			Extensions			已經定義了多少擴展字段
			Signature			證書的簽名(用CA的私鑰加密)

			X.500地址字段:

					C	國家
					O	組織
					OU	單位
					CN	普通名字
		
		公開密鑰基礎設施(PKI,Public Key Infrastructure)

		證書層次:

				根
			RA1		RA2

		CA1	CA2		CA3	CA4

		區域管理機構(RA,Regional Authority)

		一般證書都需要提供證書路徑(certification paht)或信任鏈(chain of trust)來提供自底向上的回溯方式，來確認證書是否安全。

		信任錨(trust anchor)指的是根的公鑰。

		網絡攻擊:

				1>重放攻擊；
				2>中間人攻擊；
				3>DNS欺騙；
				4>DOS;
				5>DDOS;
				...
		IPSec:

			IP安全(IPSec,IP security)。

			提供端-端的加密方法與標準。

			IPSec有兩種模式:
				
				1>傳輸模式(transport mode)；此模式IPSec頭直接插在IP頭後面；
				2>隧道模式(tunnel mode);此模式中整個IP數據包連同頭和數據部分被封裝在一個新的IP包中，且新包有新的IP頭。

			IPSec在啓用時，會給一個連接加上標識符，標識符用來查詢密鑰和其他有關安全信息。
			安全關聯(SA,security association):IPSec中一個"連接"就稱爲一個安全關聯SA；SA是兩個端點之間的單純連接，它有與之關聯的
			安全標識符。

			IPSec頭:

				AH,Authentication Header.認證頭:

					IP頭	AH	TCP頭		有效載荷+填充

						|
						|
							32位

					下一個頭	有效載荷長度	保留
					
							安全參數索引

							序號

						認證數據(HMAC)

		
					下一個頭用來保存原始的IP包的協議字段；
					安全參數索引(Security parameters index)是連接標識符，由發送方插入，指定接收方數據庫中一條特定的記錄。
					序號字段用來對通過一個SA發送的所有數據包進行編號。
					認證數據字段包含了有效載荷的數字簽名，它是可變長字段。

					散列的消息認證碼(HMAC,Hashed Message Authentication Code)是數據包和共享密鑰合起來的位串上計算散列值。

				封裝的安全有效載荷(ESP,Encapsulating Security Payload):

				傳輸模式下的ESP:

					IP頭	ESP頭	TCP頭	有效載荷+填充		認證數據(HMAC)

				隧道模式中的ESP:

					新IP頭	ESP頭	舊IP頭	TCP頭	有效載荷+填充	認證數據(HMAC)


				ESP與AH的不同之處:

					ESP處理保密性和完整性；
					AH只處理完整性；


			802.11安全:

				保護方案有:
					
					1>WPA2,WiFi Protected Access 2.WiFi保護接入2；
					2>WEP,Wired Equivalent Privacy.有線等效保密；
					3>EAP,Extensible Authentication Protocol.可擴展的身份驗證協議；
					4>TKIP,Temporary Key Integrity Protocol.臨時密鑰完整性協議；
					5>CCMP,Counter mode with Cipher block chaining Message authentication code Protocol.計數器模式消息
					認證碼協議；

			認證方式:

				1>基於共享密鑰的認證；
				2>建立共享密鑰 Diffie-Hellman密鑰交換；
				3>使用密鑰分發中心的認證；
				4>使用Kerberos的身份認證；
				5>使用公開密鑰密碼學的認證；

			郵件安全:

				良好的隱私性:PGP,Pretty Good Privacy.
				安全的MIMIE:S/MIME,Secure/MIMIE.
			
			Web安全性:
				
				安全的DNS；
				安全套接字層(SSL,Secure Sockets Layer)；
				安全的HTTP(HTTPS,Secure HTTP)；
				傳輸層安全(TLS,Transport Layer Security)；
				SandBOX；
				JVM；
				ActiveX控件簽名；
				
				
