					物理層(Physical layer) 

物理層：

	物理層是OSI模型中的最底層的模型，它定義了以比特作爲信號在信道上發送時相關的電氣，時序和
其他接口。物理信道的不同特性決定了其傳輸性能的不同。且傳輸用的介質可以分爲引導性與非引導性，簡
單來講可以認爲是有線與無線的區別，但種類不一樣。

數據通信的理論基礎：

	改變諸如電壓或電流等某種物理特性的方法可用來在電線上傳輸信息。若用一個以時間t爲自變量的
單值函數f(t)來表示電壓或電流的值，就可對信號的行爲進行建模，再用數學手段對其分析。

	傅里葉分析：	
		
		（下面將'_'記爲級數的符號，將'..'記爲無窮，將'pai'記爲圓周率，符號'之後的值意
		爲序列的'項'，將'|'記爲積分的符號;因爲輸入法鍵盤輸入符號麻煩，之後可以用sed進
		行修改。）
		
		傅里葉級數證明了：任何一個行爲合理週期爲T的函數g(T)，都可以表示成正弦函數和餘弦
	函數組成的無窮級數。

		傅里葉級數(Fourier series)

		g(t)=(1/2)*c+ .._(n=1)a'n sin(2*pai*nft)+ .._(n=1)b'n cos(2*pai*nft)

		f=1/T 是基本頻率，a'n和b'n是n次諧波(harmonics)的正弦振幅和餘弦振幅，c是常數。
	利用傅里葉級數可以重構出函數，若已知週期爲T,並給定振幅，則可以對上面的級數進行求和可以
	得到時間的原始函數g(t)。	

		對一個有限時間的信號(所有的數據信號都是時間有限的)的處理可以想象成一次又一次地
	重複着整個模式。即T--2T與0--T之間的信號完全一樣。

		對於任何給定的g(t)，在上面等式的兩邊同時乘以sin(2*pai*kft)，然後再從0--T求積分，
	則可以計算出振幅a'n。
							{0 當k!=n
		T|0 sin(2*pai*kft)sin(2*pai*nft)dt={
							{T/2 當k=n

		計算振幅b'n，則可以兩邊同時乘以cos(2*pai*kft)，然後再從0--T求積分。

		
		a'n=(2/T) T|0 g(t)sin(2*pai*nft)dt
		b'n=(2/T) T|0 g(t)cos(2*pai*nft)dt
		c=(2/T) T|0 g(t)dt

	帶寬有限的信號：

		假若傳輸ASCII字符b，該字符被編碼成一個8比特長的字節，發送比特是01100010.設置正電
	壓爲1，負電壓爲0，那麼對信號進行分析可得到：

		a'n=(1/(pai*n))[cos(pai*n/4)-cos(3*pai*n/4)+cos(6*pai*n/4)-cos(7*pai*n/4)]
		b'n=(1/(pai*n))[sin(3*pai*n/4)-sin(pai*n/4)+sin(7*pai*n/4)-sin(6*pai*n/4)]

		最初幾項的均方根振幅爲 根號(a'n ^2 + b'n ^2) ，這表示它們的平方與對應的頻率的傳
	輸能量成正比。

		能量可以攜帶信息傳遞，但是能量會在傳輸中損耗，最後將導致信號失真，而無法重構信
	息。一般情況下對導線而言，在0到某個頻率f'c的這段範圍內，振幅在傳輸過程中不會衰減（f'c的
	單位是赫茲Hz），而在f'c之上的所有頻率的振幅都將由不同程度的減弱。在這一段，傳輸過程中信
	號不會減弱的頻率範圍，被稱爲'帶寬'。但是限制並不極端，在0到接收能量能保留一半的那個頻率
	位置處也可認爲是有效帶寬。

		帶寬：
		帶寬是傳輸介質的一種物理特性，通常取決於介質的構成，厚度和距離長度。而濾波器一般
	可用來進一步限制信號的帶寬。通過使用濾波技術，可以將物理介質分爲多個信道，從而使得多個信
	號來共享一段頻譜。從而將要用到信號調製技術，一般有基帶信號與通帶信號兩種。信道的最大帶寬
	是它能穩定傳輸信號且不失真的最大脈衝頻率。一個脈衝將產生一個碼元。
		假若，某個調製器的脈衝頻率爲300Hz，用一個碼元攜帶4比特的信息。那麼這個調製器調製
	信號的波特率是300B(波特)，它一秒鐘調製的信息量是 H=Blog2M -- 300*log2(4)=600bps。

		帶寬在電氣工程中以赫茲HZ來度量，表示物體量的週期振動次數。假如某一信號的頻率是
		300MHz，那麼這300MHz是它的基本帶寬。(模擬帶寬)

		帶寬在計算機科學中，表示一個信道的最大數據速率，以每秒若干個比特（bps）來度量。
		比如某個信道的最大比特傳輸率是 300kbps，那麼這300kbps是信道的基本帶寬。(數字
		帶寬)

		基帶信號：
			信號的傳輸佔有傳輸介質的0到最大頻率之間的全部頻率。即信號的原始頻率。

		通帶信號：
			基帶信號佔據一個固定的頻率，而當共享信道時，需要將信號移動到另一個頻率，
		從而共享信道，之後再在接收方將信號搬回至原始頻率以完成採樣重構。

		諧波率：
			假設 b比特/秒（速率），發送8比特（1比特/次），時間需要 8/b秒，因此信號的
		第一個諧波率是（b/8）Hz。

	信道的最大速率：

		尼奎斯定理：
			若信號包含V個離散等級，則：

			最大數據速率=2B log2 V （比特/秒）

		B表示的是一個帶寬爲B的低通濾波器。
		這個定理指出對信號採樣重構的極限，超過這個極限也沒有意義。

		信噪比：（SNR,Signal-to-Noise Ratio）

		信號功率記爲S，噪聲功率記爲N，則信噪比爲S/N。但不極端，於是一般表示爲：

			10log10 S/N

		香農極限：

			對於一條帶寬爲B Hz，噪聲比是S/N的有噪聲信道，其最大數據速率或容量爲：

			最大比特率=B log2 (1+S/N)

	引導性傳輸介質：

		有：
			磁介質；
			雙絞線；
			同軸電纜；
			電力縣；
			光纖；
			光纜；

		雙絞線：
			由兩根相互絕緣的銅線組成，銅線的直徑通常大約爲1mm，兩個銅線以螺旋狀的形
		式緊緊地絞在一起組成雙絞線。
			目前常用的5類雙絞線由4根雙絞線組成套在一個塑料保護套內。"貓5"；到6類雙
		絞線爲止，所有雙絞線成爲非屏蔽雙絞線(UTP,Unshielded Twisted Pair)
			在100Mbps的以太網絡中使用了5類雙絞線中的2對。

			全雙工(full-deplex)：
				可以雙向同時使用的鏈路。
			半雙工(half-duplex):
				可以雙向使用但一次只能使用一個方向的鏈路。
			單工鏈路(simplex)：
				只允許一個方向上傳輸的鏈路。

		同軸電纜：
			常簡稱爲"coax"，比非屏蔽雙絞線有更好的屏蔽特性和更大的帶寬。廣泛使用的同
		軸電纜有兩種：50歐姆電纜；75歐姆電纜。
			同軸電纜的組成：
				內--外

			銅芯->絕緣材料->編織外層導體->保護塑料外套

			同軸電纜的結構和屏蔽性使得它的帶寬很高，並且有很好的抗噪性。

		電力線：
			電力線的傳輸能力不如雙絞線，因爲在電力線上以高頻率傳輸數據將產生嚴重的
		衰減。並且在電器設備開/關時的瞬態電流將在很寬的頻率範圍內造成電噪聲。

		光纖：
			以超薄玻璃纖維構成，通過修改光的入射角來保證光在玻璃纖維內折射傳輸而不
		漏光。光纖傳輸系統由三個關鍵部件構成：光源，傳輸介質和探測器。
			光纖構成：
				內--外

				玻璃芯->包套玻璃->封套塑料

			多模光纖(multimode fiber)：
				任何入射角度大於臨界值的光束都會在內部反射，所以許多不同的光束以
			不同的角度來回反射向前傳播。 -- 多模光纖

			單模光纖(single-mode fiber)：
				當光纖的直徑減小到只有幾個光波波長大小的時候，光纖就如同一個波
			導，光只能按直線傳播而不會反射。 -- 單模光纖

			光纖中光的衰減取決於光的波長以及玻璃的某些物理特性，光的衰減定義爲輸入
		輸出信號功率的比值。現代常用的三個光纖波段有：

				0.85mm & 1.30mm & 1.55mm
			三個波段都具有25000--30000GHz的寬度。

		光纜：
			光纜和同軸電纜很相似，但光纜沒有那一層密織網。
			
			光纖的連接方式：

				1，用連接器終止一根光纖；
				2，機械拼接；
				3，將兩根光纖熔合；

			光源由兩種：
				發光二極管(LED,Light Emitting Diodes)；
				半導體激光；

			LED與半導體激光的比較：

					LED	半導體激光
			數據率		低	高
			類型		多模	多/單模
			距離		短	長
			壽命		長	短
			溫度敏感	低	高
			成本		廉價	昂貴
			
			光纖的接收端是一個光電二極管。當有光照時，光電二極管發出一個電脈衝。


	非引導性傳輸介質：

		無線傳輸：
			以電磁波的方式在空間中傳輸。
			
			電磁波有三種擴頻的方式：

				跳頻擴頻(frequency hopping spread)
				發射器以每秒幾百次的速率從一個頻率跳到另一個頻率。
			
				直接序列擴頻(direct sequence spread spectrun)
				使用一個碼片序列，並將數據信號擴展開到一個很寬的頻段上。（碼分
				多址）

				超寬帶通信(UWB,Ultra-WideBand)
				UWB發送一系列快速脈衝，這些脈衝隨着通信信息而不斷變化自己的位置
				。這種位置的快速變換導致信號被稀疏分佈在一個很寬的頻帶上。
		
			無線電傳輸：
				無線電頻率(RF,Radio Frequency)的波形很容易產生，且能傳輸很長的
			距離，還可以穿透建築物。
				無線電信號因爲信號能量稀疏地分佈在大面積的表面，在空中傳播時的信
			號能量至少以 1/(r^2) 的速度衰減(r是離信號源的距離)。這種衰減稱爲路徑損耗
			(path loss)。
				無線電波一般沿着地面傳播，頻率高則範圍小，頻率小則範圍大。
	
				頻率劃分:
					低頻(LF)	30--300kHz
					中頻(MF)
					高頻(HF)
					甚高頻(VHF)
					超高頻(UHF)
					特高頻(SHF)
					極高頻(EHF)
					巨高頻(THF)

			微波傳輸：
				在100MHz以上頻段，電磁波幾乎按直線傳播，因此可以將它們聚集成窄窄
			的一束。通過拋物線形狀的天線，可以把所有能量集中於一小束，從而獲得極高的
			信噪比，但是要求發射端與接收端的天線必須精準相互對齊。
				微波按直線傳輸，但是微波不可以穿透建築物。並且微波在發射器已經
			聚集成束，但在空中傳播時仍然會有一些發散。微波傳輸時會被反射，於是會有延
			遲，延遲的微波與直接傳輸的微波有不同，因而信號會相互抵消。這種傳播效果
			稱爲多徑衰落(multipath fading)。

			紅外傳輸：
				紅外線的傳播具有方向性，便宜且易於製造。但是有很大的缺點：不能
			穿過固體物體。

			光通信：
				使用激光進行通信。激光被收縮在很窄的一束光，具有很高的能量。但是
			激光設備的對接卻很困難。非引導性光學鏈路必須具備足夠的容錯工程設計。

			通信衛星：
				它如同大型微波中繼器，包含幾個轉發器。它捕獲來空中的信號進行放
			大處理，再將放大了的信號廣播出去。
			
				一般的通信衛星有：

					地球同步衛星；		35000km+
					中地球軌道衛星；	5000km--15000km
					低地球軌道衛星；	1km-
			VSAT系統:
				通信衛星中的低成本的微型站，或稱爲小孔終端(VSAT,Very Small Aper-
			-ture Terminals)。它們一般消耗功耗爲1W左右，上行鏈路有1Mbps，下行鏈路能
			達到高達數Mbps。但是它們因爲功率低，無法實現相互通信，需要地面的中繼站來
			中繼信號。
					

	數字調製與多路複用：
		
		物理層的目的就是將模擬信號轉換成比特，並將它們傳輸出去，並且還需要效率的使用通信
	信道。這就將用到數字調製與多路複用的相關技術。

		數字調製(digital modulation)：
			有線和無線信道運載模擬信號，模擬信號可以表示成例如連續變化的電壓，光照強
		度或聲音強度。爲了發送數字信息，必須設法用模擬信號來表示比特。比特與代表它們的信
		號之間的轉換過程稱爲數字調製。

		基帶傳輸(baseband transmission)：
			即信號的傳輸佔有傳輸介質上從零到最大值之間的全部頻率，而最大頻率則取決於
		信令速率。

		通帶傳輸(passband transmission)：
			即信號佔據了以載波信號頻率爲中心的一段頻帶。

		多路複用技術(multiplexing)：
			信道設計爲多個信號共享的技術。
			一般技術有：時分複用；頻分複用；碼分複用。
		
		基帶傳輸：
			數字調製方式最直接就是正電壓爲1，負電壓爲0.對光纖來說，有光爲1；無光爲0.
		這種編碼方案爲不歸零(NRZ,Non-Return-To-Zero)。
			NRZ信號被發送後沿介質傳輸，線纜的另一端的接收器以一定週期對信號採樣，然
		後重構出比特。但是信號有衰減，於是接收器把信號樣值映射到最接近的符號。還有一些稍
		微複雜的編碼方案能滿足工程考慮的信號，這些模式稱爲線路編碼(line codes)。

			帶寬效率：
				採用NRZ編碼，每2比特信號可能在正電壓和負電壓之間循環。這表示至少
			需要B/2Hz的帶寬才能獲得Bbps的比特率。這將會是一個低效的方案。
			(由尼奎斯特定理得出，對信號進行2倍於信號帶寬的採樣可以重構出信號)
				利用有限帶寬的一種更有策略的方案是使用兩個以上的信號級別。例如採
			用4個電壓級別，這樣可以用單個符號(symbol)一次攜帶兩個比特。

				比特/秒是信息傳輸速率的單位；
				調製速率指的是碼元傳輸速率；
				一個碼元不一定對應於一個比特。

				碼元:
					在數字通信中常常用時間間隔相同的符號來表示一個一位二進制
				數字。這樣的時間間隔內的信號稱爲二進制碼元，而這個間隔被稱爲碼元
				長度。單位是波特(B)。

				符號(symbol)：
					符號是調製的產物。從數據通信的角度看，調製是將信息從比特
				描述變換到符號表達的過程。實際上，符號對應信號的能量。符號對應
				信號的能量包含兩個方面的內容：
							能量的大小；
							能量的特徵；
					通過這兩個方面接收方獲取符號中包含的信息。
					
					符號率也是指碼元率，單位是波特。所以符號於碼元是一樣的。
					碼元:
						在數字通信中常常用'時間間隔'相同的符號來表示一
					一個二進制數字。這樣的時間間隔內的信號稱爲(二進制)碼元

				信號改變的速率被稱爲符號率(symbol rate)，符號率越高，響應的傳輸速率也越高，
				但信號中包含的頻譜成分越高，佔用的帶寬就越寬。不同於比特率(bit rate)，比
				特率是符號率與每個符號的比特數的乘積。符號率較早的稱呼是波特率(baud rate)。
				
				波特率:
					指調製速率或符號速率，指的是信號被調製以後在單位時間內的波特數，
				指的是信號每秒變化的次數。它是對信號傳輸速率的一種度量單位是'波特/秒'
				(Bps)。
					轉換公式:
						比特=波特率log2離散值
						H=Blog2M
					
					離散值V意爲：一個符號表示的信息數量。
					假設M=4，B=2，則H=4。
		
				時鐘恢復：
					對於所有將數據比特編碼到符號的方案，接收器必須知道何時一
				個符號結束和下一個符號的開始，這樣才能對正確信號採樣。這種設計即
				是時鐘恢復。
				時鐘的策略：
					一，給接收器發送一個單獨的時鐘信號。
					二，將比特信號與時鐘信號異或混合在一起。

					策略一需要一根新的時鐘信號線，這將導致浪費且麻煩。
				
					策略二是用一根線，但是同時傳輸比特信號與時鐘信號。
						當時鐘與0電壓異或時，只是簡單地將時鐘信號產生一
					次"從低到高"的轉變，這種信號跳變表示邏輯0；當時鐘與1電壓
					異或時產生一次"從高至低"的相反轉變，這種信號跳變表示邏
					輯1.這種編碼方案稱爲"曼徹斯特(Mancherster)"的編碼。

				不歸零逆轉(NRZI,Non-Return-to-Zero)：
					1定義爲信號有跳變，反之0定義爲信號無轉變。這種編碼方案
				爲不歸零逆轉。常用於通用串行總線(USB,Universal Serial Bus)中。
					但是還是存在時鐘恢復的問題。解決方案是一種名爲4B/5B的編
				碼方案。
					
				4B/5B：
					每4個比特映射成一個5比特模式，映射規則有一張靜態映射表
				提供。這種編碼的方式增加了25%的帶寬開銷，但是比曼徹斯特編碼帶來
				的100%的開銷要好。
				
					還有一種方法，使得數據看起來很隨機，這種編碼方式稱爲擾頻
				/倒頻(scrambling)。
					這種方式下可能會出現頻繁的信號轉換。擾頻器(scrambler)的
				工作原理是在發送數據之前，用一個僞隨機序列異或(XORing)該數據。這
				種混合操作使得數據像僞隨機序列一樣隨機。然後接收器用相同的僞隨機
				序列對入境數據進行異或操作，從而恢復出真正的數據。
					擾頻方式不增加帶寬或時間開銷，常有助於調節信號。使得在可
				能產生電磁干擾的主導頻率成分(由重複數據模式引起)不具有能量，因而
				降低了電磁輻射干擾。但是擾頻無法保證不會出現長期保持一種狀態(電
				壓)，有導致異或結果都是0的可能。
				
				平衡信號：
					在很短時間內正電壓與負電壓一樣多的信號稱爲平衡信號(balan
				ced signals)。信號的均值爲0，意味着它們沒有直流(DC)電氣分量。這
				是一個優點，對帶有變壓器的同軸電纜或線路來說，其信道對直流分量有
				強烈的衰減，這是介質的物理特性決定的。同樣，將接收器連接在信道上
				的電容耦合(capacitive coupling)的方法只允許信號的交流(AC)通過。
				在這兩個情況下若發送一個平均值不爲0的信號，其直流分量將被過濾，
				因而造成資源的浪費。但是平衡信號有助於提供時鐘恢復所需的轉換。
					一種構造平衡信號的方法是使用兩個電壓級別表示邏輯1，用0V
				表示邏輯0。發送1時，發射器在+1V與-1V之間選擇，使得信號達到平衡。
				這種方案稱爲雙級編碼。它通過增加電壓級別來實現信號的平衡。
					不均等性(disparity)，不等指信號失去平衡的0或1的總數。
					
		通帶傳輸：
			一般情況下，在一個信道上傳輸的信號的頻率並不是從0開始的。通過把信號放在
		不同的給定的頻率上，可以實現在信道上允許不同信號共存。這種傳輸稱爲通帶傳輸(
		passband transmission)。
			可以將一個佔用0--BHz的基帶信號搬移到頻譜位置在S--S+BHz的通帶上，而不改變
		信號所攜帶的信息。再在接收方將通帶信號搬回到基帶，以便於符號的檢測。
			數字調製通過通帶傳輸完成，通過調整通帶中載波信號來調節或調製。可以調整載
		波信號的振幅，頻率或相位來調製信號。

			常有幾種方式：
				
				幅移鍵控(ASK,Amplitude Shift Keying)；
				頻移鍵控(FSK,Frequency Shift Keying)；
				相移鍵控(PSK,Phase Shift Keying)；
					-- 二進制相移鍵控(BPSK,Binary Phase Shift Keying)；
					-- 正交相移鍵控(QPSK,Quadrature Phase Shift Keying)；

			幅移鍵控：
				通過兩個不同的振幅分別表示0和1。
			頻移鍵控：
				採用兩個或多個不同的頻率。
			相移鍵控：
				在每個符號週期內，調整載波波形的相位與振幅。
				-- 二進制相移鍵控：
					系統把載波波形偏移0度或者180度。
				-- 正交相移鍵控：
					相比於二進制相移鍵控，更加有效利用信道帶寬的一個更好方法
				是使用4個偏移 -- 45度，135度，225度，315度。

			因爲頻率和相位有關，即頻率是相位隨時間的變化率，所以一次只能調製頻率和相
		位兩個中的一個。通常，振幅和相位可以結合起來一起調製。

			星座圖(constellation diagram)。以點相對於偏移繪製成的四象限圖。
			一個點的相位是以它爲起點到原點的線於X正軸之間的角度。
			一個點的振幅則是該點到原點的距離。

				    135	|  45
				    p	|  p
					|
				-----------------
				    	|  
				    p	|  p
				    225	|  315

			上圖是QPSK的星座圖，而使用16個點的調製方案表示了振幅和相位的16種組合，則
		可用每個符號傳輸4個比特。這種調製方法是QAM-16，QAMQ（Quadrature Amplitude Modula
		tion）正交調幅。雖然這種調製方式並沒有指明如何爲符號分配比特，只是說明了信道共享
		的方法。在決定如何分配比特時需要考慮突發噪音導致的出錯。
			解決方法是使用格雷碼(Gray code)這種映射方法，這種方法將把比特映射到符號
		，使得相鄰的兩個符號只有一個比特的位置不同。這種方法在傳輸出錯時，也只會產生單個
		錯誤。
					
			頻分複用：
				頻分複用(FDM,Frequency Division Multiplexing)利用通帶傳輸的優勢
			使多個用戶共享一個信道。它將頻譜分成幾個頻段，每個用戶完全擁有其中一個
			頻段來發送自己的信號。在分配不同的頻段時還會給該頻段加上一部分額外的頻段
			，這個頻段稱爲保護帶(guardband)。
				發送數字數據時完全有可能把頻譜更有效率地劃分成沒有保護帶。在正交
			頻分複用(OFDM,Orthogonal Frequency Division Multiplexing)中，信道帶寬被
			分成許多獨立發送數據的子載波(例如QAM)。子載波在領域內被緊緊地包裹在一起
			。因此每個子載波發出的信號能擴散到相鄰子載波，而每個子載波地頻率響應被設
			計成在相鄰子載波地中心爲零，因而可以在子載波的中心頻率採樣而不會收到它們
			鄰居地干擾。

			時分複用：
				時分多路複用(TDM,Time Division Multiplexing)。這種方式下，用戶以
			循環地方式輪流工作。每個用戶週期性地獲得整個帶寬非常短的一個時間，每個輸
			入流的比特從一個固定的時間槽(time slot)取出並輸出到混合流。該混合流以各
			個速率的綜合速度發送，但這種方式要求輸入流的時間同步。爲了適應時鐘的微小
			變化可能要增加保護時間(guard time)間隔。
				統計時分複用(STDM,Statistical Time Division Multiplexing)。統計
			的意思是：組成多路複用流的各個流沒有固定的調度模式，而是根據其需求產生。
			
			碼分複用：
				碼分複用(CDM,Code Division Multiplexing)是擴展頻譜(spread spect
			rum)通信的一種形式，它把一個窄帶信號擴展到一個很寬的頻帶上。這種方法更能
			容忍干擾，而且允許來自不同用戶的信號共享相同的頻帶。由於碼分複用技術最常
			用於第二個目的，因此被稱爲碼分多址(CDMA,Code Division Multiplexing Acess
			)。
				CDMA允許每個站利用整個頻段發送信號，且沒有任何時間限制。利用編碼
			理論可將多個併發的傳輸分離開。CDMA不再假設衝突的幀被完全丟棄掉，相反，它
			假設多個信號可以線性疊加。
				CDMA中每個比特時間被再細分爲m個更短的時間間隔，這些更短的時間間
			隔就稱爲碼片(chip)。每個站被分配得到唯一的m位碼，稱爲碼片序列(chip seq-
			uence)。若站要發送比特1，則發送它的唯一碼片序列；若發送比特0，則發送它的
			碼片序列的反碼。
				按照這種編碼，原始發送的每秒b個比特，變更爲了每秒mb個碼片，這將
			導致信道消耗的帶寬增加了m倍。但好處是可以使多個信號複用，且能享有全額的
			帶寬。
				假設有A，B，C，D四個站，且給它們分別分配8位的唯一碼片序列：
				(假設的碼片序列使用雙級符號表示)

				A: -1-1-1+1+1-1+1+1
				B: -1-1+1-1+1+1+1-1
				C: -1+1-1+1+1+1-1-1
				D: -1+1-1-1-1-1+1-1

				用符號S表示站S的m碼片序列，S-表示它的反碼。所有碼片序列都兩兩正
				交(orthogonal)，這意味任何兩個不同的碼片序列S和T的歸一化內積(S*
				T)爲0。利用Walsh碼(Walsh code)可以產生這樣的正交碼片序列。
				於是按數學方法，碼片序列的正交性：

					S*T=1/m m_(i=1) S'i T'i=0
				
				即相等的數目與不相等的數目一樣多。如果S*T=0，則S-*T-=0。任何碼片
				序列與自身的歸一化內積一定是1

					S*S=1/m m_(i=1) S'i S'i
					= 1/m m_(i=1) S'i^2
					= 1/m m_(i=1) (+-1)^2
					=1

				因爲m項中的每一項內積都是1，所以求和的結果是m。同樣S*S-=-1。

				在每個比特時間內，一個站可以傳輸比特1或比特0，也可以保持沉默。假
			設所有站的時間都是同步的，則所有的碼片序列從同一個時刻開始。當兩個或多個
			站同時傳輸時，它們的雙極序列線性相加在一起。

				S‘1=C		-1+1-1+1+1+1-1-1
				S’2=B+C		-2 0 0 0+2+2 0-2
				S‘3=A+B-	 0 0-2+2 0-2 0+2
				S’4=A+B-+C	-1+1-3+3+1-1-1+1
				S‘5=A+B+C+D	-4 0-2 0+2 0+2-2
				S’6=A+B+C-+D	-2-2 0-2 0-2+4 0

				爲了恢復某個特定站的比特流，接收方必須預先得知該站的碼片序列。
			只要計算收到的碼片序列與該站的碼片序列的歸一化內積，即可恢復該站的比特流
			。假設端希望解碼出站C傳送的比特流，則：

				S'1*C=[1+1-1+1+1+1-1-1]/8=1
				S'2*C=[2+0+0+0+2+2+0+2]/8=1
				S'3*C=[0+0+2+2+0-2+0-2]/8=0
				S'4*C=[1+1+3+3+1-1+1-1]/8=1
				S'5*C=[4+0+2+0+2+0-2+2]/8=1
				S'6*C=[2-2+0-2+0-2-4+0]/8=-1

				分別傳送了 1,1,0,1,1,-1 -1爲沉默。

		調制解調器(modem)：
			調製解調器是調製器(modulator)和解調器(demodulator)的縮寫。負責執行數字比
		特流和模擬信號流的轉換。因爲較高速率需要一組很大的符號或星座，於是導致探測幅度和
		或相位時即使只有很少噪音都可能導致一個錯誤，於是爲了減少出錯，高速調制解調器標準
		採用了一些額外符號進行差錯檢測。這種方案稱爲網格編碼調製(TCM,Trellis Coded Modu-
		ation)。

		ADSL(ADSL,Asymmetric DSL)：
			非對稱數字用戶線。結構爲

			  語音交換(編碼解碼器codec)			 電話
			端	分離器		--		分離器		用戶
			  DSLAM						ADSL-Modem
			  ISP						Ether-net -- computer
		
		中繼線：
			負責中繼端局至交換局的信號。工作是 存儲信號-放大-轉發 ，在端局有一個將
		模擬信號數字化的設備 編碼解碼器(codec,coder-decoder)。

		脈衝編碼調製(PCM,Pulse Code Modulation)：
			在端局，把模擬信號數字化的工作由一個編碼解碼器(codec,coder-decoder)來完
		成。該設備以每秒8000個樣值採樣。若採樣率較低，信息將被丟失；若採樣率較高，也達到
		了上限。於是每個信號的樣值幅度被量化成一個8比特的數字。這種技術就是脈衝編碼調製
		(PCM,Pulse Code Modulation)。
			信號的量化使用對數尺寸，廣泛應用的量化規則有兩種:
				μ-規則 與 A-規則
			信號在量化之前被壓縮，然後在模擬信號被還原時再被擴
			展恢復。這個處理方式稱爲壓縮擴展(companding)。

		

		擴展超幀(extended superframe)：
			一個T1載波由24條被複用在一起的語音信道，每個信道依次將8比特樣值插入輸出
		流，每幀24*8=192個比特，再加上額外一個比特用於控制，一共193bits、/125微秒。第193個
		比特用於幀同步和信令。在一種基於該方法的變異情況下，第193個比特的使用涉及羣內所
		有24幀，這稱爲擴展超幀。

		信道相關信令(channel associated signaling):
			T1載波信號調製的早期版本，會在帶內發送信令信息，這意味着在相同的數據信道內
		使用了一些數據比特來發送控制消息，這種設計就是信道相關信令。

			強佔比特信令(robbed-bit signaling):
				將每6個幀中的每個信道8比特樣值中的最低有效位拿出來。

			公共信道信令(common-channel signaling):
				在數據信道之外還有一條獨立的信道，所有控制信令在帶外處理。

		SONET/SDH：

			同步數字系列-SDH(SDH,Synchronous Digital Hierarchy)：
				它包含了一個SONET標準與一些ITU建議。

			同步光網絡-SONET(SONET,Synchronous Optical NETwork)：
				4個設計目標：
					SONET必須使不同運營商可協同工作；
					需要一種用來統一美國，歐洲和日本數字系統的方法；
					SONET必須提供一種方法來複用多條數字信道。
					SONET必須支持操作(operation)，管理(administration)，維
					護(maintenance),即OAM。

			同步傳輸信號-STS(STS,Synchronous Transport Signal):
				它是SONET的基本信道。
			
			同步有效載荷-SPE(SPE,Synchronous Payload Envelope):
				SONET幀種的有效載荷部分，用來承載用戶數據。

			SONET的多路複用層次:

			SONET		SDH			數據率(Mbps)
			電子	光	光		總速率		SPE		用戶速率
			STS-1	OC-1					50.112		49.536
			STS-3	OC-3	STM-1		155.52		150.336		148.608
			STS-12	OC-12	STM-46		22.08		601.344		594.432
			STS-48	OC-48	STM-16		2488.32		2405.376	2377.728
			STS-192	OC-192	STM-64		9953.28		9621.504	9510.912
			STS-768	OC768	STM-256		39813.12	38486.016	38043.648


		波分多路複用(WDM,Wavelength Division Multiplexing)：
			將同TDM一樣的方式使用在光纖信道中，這種複用方式稱爲波分多路複用。

			鏈路結構是：

			光纖1						光纖2
			光纖2						光纖4
				組合器		-長途共享光纖-	分離器
			光纖3						光纖1
			光纖4						光纖3

			將光纖使用組合器組合到一條共享光纖，再接收端使用分離器使其分離再發送到
		接收方。每條輸出光纖包含一個短的，特殊結構的核，該核能夠過濾其他所有波長而僅留下
		某一個波長，之後再將這個過濾出的信號路由到目的地。
			這裏的波分複用如同TDM但是它是工作在極高頻率上的頻分多路複用。當信道的數
		目很大，並且波長間隔很接近每這樣的系統稱爲密集波分多路複用(DWDM,Dense WDM)。

		交換：
			電路交換：
				在以前的電話系統中，建立連接前先由工作人員進行跳線建立物理鏈路。
			這種方式含有延遲，延遲是在連接建立前，並且在沒有合適的路由時，鏈路將無法
			建立。當連接建立後，將會獲得該條鏈路上的所有帶寬資源。但也有造成帶寬浪費
			的可能。(沒有流量經過)
				這種方式的擁塞發生在鏈路建立前。

			包交換：
				包交換無需像電路交換一樣建立物理鏈路，而是使用路由器進行 存儲-
			轉發 的方式。不直接建立物理鏈路而時有路由算法來確定數據包行走的路徑。
				因爲沒有固定路徑，數據包有可能會亂序到達。且包交換還會對數據包的
			大小規定了嚴格的上限，這樣可以確保沒有任何用戶可長時間霸佔任何線路，因此
			數據包交換網絡可以處理交互式網絡通信。
				包交換的擁塞發生在傳輸過程中。數據包交換網絡中，沒有位傳輸數據預
			留帶寬，數據包在轉發時可能需要排隊等候，於是就有了排隊延遲(queuing delay
			)，若多個包要在同一時間發送將會造成擁塞。但是包交換網絡中不會浪費帶寬資
			源。（按需路由）

	移動通信：
		主要使用的蜂窩的方式部署通信系統。
			
		1G-模擬語音：
			AMPS系統，使用FDM來進行複用。共有832個全雙工信道，每個信道由一對單工信道
		組成。這種安排方式稱爲頻分雙工(FDD,Frequency Division Duplex)，832個信道分爲4類-
		控制信道，尋呼信道，接入信道(雙向)，數據信道(雙向)。

		2G-數字語音：
			數字高級移動電話系統(D-AMPS,Digital Advanced Mobil Phone System)時數字版
		本的AMPS。與AMPS可共存且使用TDM來進行多路複用。

		GSM-全球通信系統：
			全球通信系統(GSM,Global System for Mobile communications)，同D-AMPS一樣
		使用FDM和TDM的混合複用。GSM體繫結構分離了移動電話爲手機與用戶識別模塊(Subscribe-
		r Identity Module)，即SIM卡。移動電話通過空中接口接入網絡。

			GSM體系：

			SIM	-		用戶識別模塊

			AIR-INTERFACE	-	空中接口
		
			BSC	-		基站控制器(Base Station Controller)

			MSC-----|		移動電話系統，基於GSM
				--	HLR	歸屬位置寄存器(Home Location Register)
				--	VLR	訪問位置寄存器(Visitor Location Register)

			PSTN		公共電話網絡

			GSM也是一種頻分雙工蜂窩系統。即接收頻率高於發送頻率。在GSM中900MHz有124
		對單工信道，每個單工信道寬200kHz，採用TDM複用可支持8個單獨連接。而理論上講每個蜂
		窩支持992個信道，爲了避免干擾也並不是全都可用。
			
			GSM通過控制信道來管理系統:
				廣播控制信道(broadcast control channel)從基站輸出一個連續流，其
			中包含了該基站的標示和信道狀態。
				專用控制信道(dedicated control channel)用於移動用戶的位置更新，
			註冊和呼叫的建立。
				公共控制信道(common control channel)，它被分爲3個邏輯子信道。
					第一個是尋呼信道(paging channel)，基站用於通知有關入境呼
				叫的情況。
					第二個是隨機接入信道(random access channel)，它允許用戶
				在專用控制信道上請求時間槽。
					第三個是接入授予信道(access grant channel)，用於宣佈分配
				獲得的專用控制信道的時間槽。

				GSM提供了與1G的硬切換不同的移動輔助切換(MAHO,Mobile Assisted Ha-
			ndOFF)。硬切換指先斷開舊連接，再建立新連接，這將導致短暫的中斷。

		3G-數字語音和數據：
			基本服務：
				高質量的語音傳輸；
				消息；
				多媒體；
				Internet接入；
				
			它使用兩種複用技術，第一種由愛立信公司提出並獲得歐洲聯盟推進的，寬帶碼分
		多址(WCDMA,Wideband CDMA)的複用方法，稱爲全球移動通信公司(UMTS,Universal Mobile 
		Telecommunications System)。另一種就是高通提出的CDMA2000。

			3G使用了CDMA，於是可以利用一些發射器靜止沉默的特性來提升容量，可以支持更
		多的用戶。再就是CDMA使蜂窩可以使用相同頻率。最後CDMA使用了軟切換，可以同時建立多
		個連接，再將控制轉交給高頻率信號的蜂窩。從而避免了中斷。
			
	有線電視：
		通過分配頻譜來同時傳輸電視信號與數據信號還有控制信號。FDM。


	總結：

		物理層是所有網絡的基礎。物理性質給所有信道強加了兩個根本限制，而這些限制決定了它
	們的有效帶寬。兩個限制：尼奎斯特極限和香農極限。
		傳輸介質可以是引導性或非引導性。
			引導性：
				雙絞線，同軸電纜，光纖。
			非引導性：
				無線電，微波，紅外線，激光，衛星。
		數字調製方式可以通過引導性和非引導性介質上的模擬信號來發送比特。線性編碼以基帶方
	式運行，通過調節載波的振幅，頻率，相位把信號放置在一個通帶上。信道可以是時分，頻分，碼分
	的方式來複用。

